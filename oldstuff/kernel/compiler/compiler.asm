; ********************************************************************************************************
; ********************************************************************************************************
;
;		Name : 		compiler.asm
;		Author : 	Paul Robson (paul@robsons.org.uk)
;		Purpose : 	Source loader
;		Date : 		23rd November 2018
;
; ********************************************************************************************************
; ********************************************************************************************************

CompilerTest:
		ld 		de,4
		call 	COMCompileBuffer
w1:		jr 		w1

; ********************************************************************************************************
; ********************************************************************************************************
;
;								Compile buffer (TOS)
;
; ********************************************************************************************************
; ********************************************************************************************************

COMCompileBuffer:
		pop 	hl 									; return address
		ld 		(__COMCBExit+1),hl 					; save return address
		db 		$DD,$01
		jp 		$0000

